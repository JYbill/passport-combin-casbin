datasource db {
  provider = "mongodb"
  url      = env("DATABASE_URL")
}

generator client {
  provider = "prisma-client-js"
}

model CasbinRule {
  id    String  @id @default(auto()) @map("_id") @db.ObjectId
  ptype String
  v0    String?
  v1    String?
  v2    String?
  v3    String?
  v4    String?
  v5    String?

  @@map("casbin_rule")
}

// 查询直接根据casbin查，不用逻辑外键查
// 加唯一即可
model User {
  id       String  @id @default(auto()) @map("_id") @db.ObjectId
  username String  @unique()
  nickname String // 昵称
  password String
  salt     String // 信息摘要加密盐
  isAdmin  Boolean @default(false) // 是否是管理员，作用于casbin的超级管理员权限
}

model Role {
  id         String  @id @default(auto()) @map("_id") @db.ObjectId
  roleName   String  @unique()
  descprtion String? // 描述
}

model PermissionGroup {
  id                  String  @id @default(auto()) @map("_id") @db.ObjectId
  permissionGroupName String  @unique()
  descprtion          String? // 描述
}

model Permission {
  id             String  @id @default(auto()) @map("_id") @db.ObjectId
  permissionName String  @unique() // 接口
  descprtion     String?
}
